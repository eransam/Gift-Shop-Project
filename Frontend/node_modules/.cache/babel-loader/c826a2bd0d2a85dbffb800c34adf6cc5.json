{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\eran\\\\lessons\\\\38 - 2022-03-17 - Building Full Stack System\\\\02 - Full Stack Gift Shop\\\\Frontend\\\\src\\\\Components\\\\GiftsArea\\\\GiftList\\\\GiftList.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport giftsService from \"../../../Services/gifts-service\";\nimport \"./GiftList.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction GiftList() {\n  _s();\n\n  const [targets, setTargets] = useState([]);\n  const [gifts, setGifts] = useState([]);\n  useEffect(() => {\n    giftsService.getAllTargets().then(targets => setTargets(targets)).catch(err => alert(err.message));\n  }, []);\n\n  async function handleChange(args) {\n    try {\n      const targetId = +args.target.value;\n      const gifts = await giftsService.getGiftsByTarget(targetId);\n      setGifts(gifts);\n    } catch (err) {\n      alert(err.message);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"GiftList\",\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: handleChange,\n      defaultValue: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        disabled: true,\n        value: \"\",\n        children: \"Select Target Audience\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), targets.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: t.targetId,\n        children: t.name\n      }, t.targetId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 35\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Target Audience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Gift Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Discount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: gifts.map(g => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: g.targetName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: g.giftName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: g.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: g.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: g.discount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)]\n        }, g.giftId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 37\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n}\n\n_s(GiftList, \"Yth37Yw0ASogjgUgiz8ISWoUFac=\");\n\n_c = GiftList;\nexport default GiftList;\n\nvar _c;\n\n$RefreshReg$(_c, \"GiftList\");","map":{"version":3,"sources":["C:/Users/User/Desktop/eran/lessons/38 - 2022-03-17 - Building Full Stack System/02 - Full Stack Gift Shop/Frontend/src/Components/GiftsArea/GiftList/GiftList.tsx"],"names":["useEffect","useState","giftsService","GiftList","targets","setTargets","gifts","setGifts","getAllTargets","then","catch","err","alert","message","handleChange","args","targetId","target","value","getGiftsByTarget","map","t","name","g","targetName","giftName","description","price","discount","giftId"],"mappings":";;;AAAA,SAAyBA,SAAzB,EAAoCC,QAApC,QAAoD,OAApD;AAGA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,OAAO,gBAAP;;;AAEA,SAASC,QAAT,GAAiC;AAAA;;AAE7B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBJ,QAAQ,CAAgB,EAAhB,CAAtC;AACA,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAc,EAAd,CAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,YAAY,CACPM,aADL,GAEKC,IAFL,CAEUL,OAAO,IAAIC,UAAU,CAACD,OAAD,CAF/B,EAGKM,KAHL,CAGWC,GAAG,IAAIC,KAAK,CAACD,GAAG,CAACE,OAAL,CAHvB;AAIH,GALQ,EAKN,EALM,CAAT;;AAOA,iBAAeC,YAAf,CAA4BC,IAA5B,EAAkD;AAC9C,QAAI;AACA,YAAMC,QAAQ,GAAG,CAAED,IAAI,CAACE,MAAN,CAAmCC,KAArD;AACA,YAAMZ,KAAK,GAAG,MAAMJ,YAAY,CAACiB,gBAAb,CAA8BH,QAA9B,CAApB;AACAT,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACH,KAJD,CAKA,OAAOK,GAAP,EAAiB;AACbC,MAAAA,KAAK,CAACD,GAAG,CAACE,OAAL,CAAL;AACH;AACJ;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA,4BAEI;AAAQ,MAAA,QAAQ,EAAEC,YAAlB;AAAgC,MAAA,YAAY,EAAC,EAA7C;AAAA,8BACI;AAAQ,QAAA,QAAQ,MAAhB;AAAiB,QAAA,KAAK,EAAC,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEKV,OAAO,CAACgB,GAAR,CAAYC,CAAC,iBAAI;AAAQ,QAAA,KAAK,EAAEA,CAAC,CAACL,QAAjB;AAAA,kBAA6CK,CAAC,CAACC;AAA/C,SAAgCD,CAAC,CAACL,QAAlC;AAAA;AAAA;AAAA;AAAA,cAAjB,CAFL;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAOI;AAAA,8BACI;AAAA,+BACI;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAUI;AAAA,kBACKV,KAAK,CAACc,GAAN,CAAUG,CAAC,iBAAI;AAAA,kCACZ;AAAA,sBAAKA,CAAC,CAACC;AAAP;AAAA;AAAA;AAAA;AAAA,kBADY,eAEZ;AAAA,sBAAKD,CAAC,CAACE;AAAP;AAAA;AAAA;AAAA;AAAA,kBAFY,eAGZ;AAAA,sBAAKF,CAAC,CAACG;AAAP;AAAA;AAAA;AAAA;AAAA,kBAHY,eAIZ;AAAA,sBAAKH,CAAC,CAACI;AAAP;AAAA;AAAA;AAAA;AAAA,kBAJY,eAKZ;AAAA,sBAAKJ,CAAC,CAACK;AAAP;AAAA;AAAA;AAAA;AAAA,kBALY;AAAA,WAASL,CAAC,CAACM,MAAX;AAAA;AAAA;AAAA;AAAA,gBAAf;AADL;AAAA;AAAA;AAAA;AAAA,cAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAgCH;;GAvDQ1B,Q;;KAAAA,Q;AAyDT,eAAeA,QAAf","sourcesContent":["import { SyntheticEvent, useEffect, useState } from \"react\";\nimport GiftModel from \"../../../Models/GiftModel\";\nimport TargetModel from \"../../../Models/TargetModel\";\nimport giftsService from \"../../../Services/gifts-service\";\nimport \"./GiftList.css\";\n\nfunction GiftList(): JSX.Element {\n\n    const [targets, setTargets] = useState<TargetModel[]>([]);\n    const [gifts, setGifts] = useState<GiftModel[]>([]);\n\n    useEffect(() => {\n        giftsService\n            .getAllTargets()\n            .then(targets => setTargets(targets))\n            .catch(err => alert(err.message));\n    }, []);\n\n    async function handleChange(args: SyntheticEvent) {\n        try {\n            const targetId = +(args.target as HTMLSelectElement).value;\n            const gifts = await giftsService.getGiftsByTarget(targetId);\n            setGifts(gifts);\n        }\n        catch (err: any) {\n            alert(err.message);\n        }\n    }\n\n    return (\n        <div className=\"GiftList\">\n\n            <select onChange={handleChange} defaultValue=\"\">\n                <option disabled value=\"\">Select Target Audience</option>\n                {targets.map(t => <option value={t.targetId} key={t.targetId}>{t.name}</option>)}\n            </select>\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Target Audience</th>\n                        <th>Gift Name</th>\n                        <th>Description</th>\n                        <th>Price</th>\n                        <th>Discount</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {gifts.map(g => <tr key={g.giftId}>\n                        <td>{g.targetName}</td>\n                        <td>{g.giftName}</td>\n                        <td>{g.description}</td>\n                        <td>{g.price}</td>\n                        <td>{g.discount}</td>\n                    </tr>\n                    )}\n                </tbody>\n            </table>\n\n        </div>\n    );\n}\n\nexport default GiftList;\n"]},"metadata":{},"sourceType":"module"}