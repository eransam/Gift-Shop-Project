{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\eran\\\\lessons\\\\38 - 2022-03-17 - Building Full Stack System\\\\02 - Full Stack Gift Shop\\\\Frontend\\\\src\\\\Components\\\\GiftsArea\\\\AddGift\\\\AddGift.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport giftsService from \"../../../Services/gifts-service\";\nimport \"./AddGift.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddGift() {\n  _s();\n\n  var _formState$errors, _formState$errors$tar, _formState$errors2, _formState$errors2$gi, _formState$errors3, _formState$errors3$de, _formState$errors4, _formState$errors4$pr, _formState$errors5, _formState$errors5$di;\n\n  const [targets, setTargets] = useState([]);\n  const {\n    register,\n    handleSubmit,\n    formState\n  } = useForm();\n  const navigate = useNavigate();\n  useEffect(() => {\n    giftsService.getAllTargets().then(targets => setTargets(targets)).catch(err => alert(err.message));\n  }, []);\n\n  async function submit(gift) {\n    try {\n      const addedGift = await giftsService.addGift(gift);\n      alert(\"Gift added, id: \" + addedGift.giftId);\n      navigate(\"/gift-list\");\n    } catch (err) {\n      alert(err.message);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"AddGift\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(submit),\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Target Audience: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", { ...register(\"targetId\", {\n          required: {\n            value: true,\n            message: \"Missing target audience\"\n          }\n        }),\n        defaultValue: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          disabled: true,\n          value: \"\",\n          children: \"Select Target Audience\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), targets.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: t.targetId,\n          children: t.name\n        }, t.targetId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 39\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors = formState.errors) === null || _formState$errors === void 0 ? void 0 : (_formState$errors$tar = _formState$errors.targetId) === null || _formState$errors$tar === void 0 ? void 0 : _formState$errors$tar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Gift Name: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ...register(\"giftName\", {\n          required: {\n            value: true,\n            message: \"Missing gift name\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors2 = formState.errors) === null || _formState$errors2 === void 0 ? void 0 : (_formState$errors2$gi = _formState$errors2.giftName) === null || _formState$errors2$gi === void 0 ? void 0 : _formState$errors2$gi.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Description: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ...register(\"description\", {\n          required: {\n            value: true,\n            message: \"Missing description\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors3 = formState.errors) === null || _formState$errors3 === void 0 ? void 0 : (_formState$errors3$de = _formState$errors3.description) === null || _formState$errors3$de === void 0 ? void 0 : _formState$errors3$de.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Price: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        step: \"0.01\",\n        min: \"0\",\n        ...register(\"price\", {\n          required: {\n            value: true,\n            message: \"Missing price\"\n          },\n          min: {\n            value: 0,\n            message: \"Price can't be negative\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors4 = formState.errors) === null || _formState$errors4 === void 0 ? void 0 : (_formState$errors4$pr = _formState$errors4.price) === null || _formState$errors4$pr === void 0 ? void 0 : _formState$errors4$pr.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Discount: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        step: \"0.01\",\n        ...register(\"discount\", {\n          required: {\n            value: true,\n            message: \"Missing discount\"\n          },\n          min: {\n            value: 0,\n            message: \"Discount can't be negative\"\n          },\n          max: {\n            value: 100,\n            message: \"Discount can't exceed 100\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors5 = formState.errors) === null || _formState$errors5 === void 0 ? void 0 : (_formState$errors5$di = _formState$errors5.discount) === null || _formState$errors5$di === void 0 ? void 0 : _formState$errors5$di.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddGift, \"lXAF+i79yzjNYj0PXNmrMGnJ2ws=\", false, function () {\n  return [useForm, useNavigate];\n});\n\n_c = AddGift;\nexport default AddGift;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddGift\");","map":{"version":3,"sources":["C:/Users/User/Desktop/eran/lessons/38 - 2022-03-17 - Building Full Stack System/02 - Full Stack Gift Shop/Frontend/src/Components/GiftsArea/AddGift/AddGift.tsx"],"names":["useEffect","useState","useForm","useNavigate","giftsService","AddGift","targets","setTargets","register","handleSubmit","formState","navigate","getAllTargets","then","catch","err","alert","message","submit","gift","addedGift","addGift","giftId","required","value","map","t","targetId","name","errors","giftName","description","min","price","max","discount"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport GiftModel from \"../../../Models/GiftModel\";\nimport TargetModel from \"../../../Models/TargetModel\";\nimport giftsService from \"../../../Services/gifts-service\";\nimport \"./AddGift.css\";\n\nfunction AddGift(): JSX.Element {\n\n    const [targets, setTargets] = useState<TargetModel[]>([]);\n    const { register, handleSubmit, formState } = useForm<GiftModel>();\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        giftsService\n            .getAllTargets()\n            .then(targets => setTargets(targets))\n            .catch(err => alert(err.message));\n    }, []);\n\n    async function submit(gift: GiftModel) {\n        try {\n            const addedGift = await giftsService.addGift(gift);\n            alert(\"Gift added, id: \" + addedGift.giftId);\n            navigate(\"/gift-list\");\n        }\n        catch (err: any) {\n            alert(err.message);\n        }\n    }\n\n    return (\n        <div className=\"AddGift\">\n\n            <form onSubmit={handleSubmit(submit)} noValidate>\n\n                <label>Target Audience: </label>\n                <select {...register(\"targetId\", {\n                    required: { value: true, message: \"Missing target audience\" }\n                })} defaultValue=\"\">\n                    <option disabled value=\"\">Select Target Audience</option>\n                    {targets.map(t => <option value={t.targetId} key={t.targetId}>{t.name}</option>)}\n                </select>\n                <span>{formState.errors?.targetId?.message}</span>\n\n                <label>Gift Name: </label>\n                <input type=\"text\" {...register(\"giftName\", {\n                    required: { value: true, message: \"Missing gift name\" }\n                })} />\n                <span>{formState.errors?.giftName?.message}</span>\n\n                <label>Description: </label>\n                <input type=\"text\" {...register(\"description\", {\n                    required: { value: true, message: \"Missing description\" }\n                })} />\n                <span>{formState.errors?.description?.message}</span>\n\n                <label>Price: </label>\n                <input type=\"number\" step=\"0.01\" min=\"0\" {...register(\"price\", {\n                    required: { value: true, message: \"Missing price\" },\n                    min: { value: 0, message: \"Price can't be negative\"}\n                })} />\n                <span>{formState.errors?.price?.message}</span>\n\n                <label>Discount: </label>\n                <input type=\"number\" step=\"0.01\" {...register(\"discount\", {\n                    required: { value: true, message: \"Missing discount\" },\n                    min: { value: 0, message: \"Discount can't be negative\"},\n                    max: { value: 100, message: \"Discount can't exceed 100\"},\n                })} />\n                <span>{formState.errors?.discount?.message}</span>\n\n                <button>Add</button>\n\n            </form>\n\n        </div>\n    );\n}\n\nexport default AddGift;\n"]},"metadata":{},"sourceType":"module"}